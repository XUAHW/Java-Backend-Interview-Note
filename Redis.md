[TOC]



# 1.1 什么是Redis

**概念：**Redis是一种基于**键值对**的 NoSQL 数据库。

**特点：**它主要的特点是把数据放在**内存**当中，相比直接访问磁盘的关系型数据库，读写速度会快很多，基本上能达到微秒级的响应。

**应用：**常用于**缓存，消息队列、分布式锁等场景**。

**举例：**在一些对性能要求很高的场景，比如缓存热点数据、防止接口爆刷，都会用到 Redis。

**其他1：**Redis对于数据类型的操作都是原子性的，因为执行命令由单线程负责，不存在并发竞争问题。

**其他2：**Redis支持事物、持久化、Lua脚本、多种集群方案(主从复制模式、哨兵模式、切片集群模式)、发布/订阅模型、内存淘汰机制、过期删除机制等





# 1.2 Redis与Memcached的区别

**概念：**Memcached是一个基于简单键值对的数据库，其简洁性是其性能和易于部署扩展的核心优势。

**Redis与Memcached共同点：**

* 都是基于内存的数据库，一般都用来当做缓存使用。

* 都有过期策略。

* 两者的性能都非常高

**Redis与Memcached区别：**

* Redis ⽀持的数据类型更丰富（String、Hash、List、Set、ZSet），⽽ Memcached 只⽀持最简单的 key-value 数据类型； 
* Redis ⽀持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进⾏使⽤，⽽ Memcached 没有持久化功能，数据全部存在内存之中，Memcached 重启或者挂掉后，数据就没了；
*  Redis 原⽣⽀持集群模式，Memcached 没有原⽣的集群模式，需要依靠客户端来实现往集群中 分⽚写⼊数据； 
* Redis ⽀持发布订阅模型、Lua 脚本、事务等功能，⽽ Memcached 不⽀持；





# 1.3 Redis与Mysql的区别

Redis 属于**非关系型**数据库，数据是通过键值对的形式放在内存当中的；

MySQL 属于**关系型**数据库，数据以行和列的形式存储在磁盘当中。

实际开发中，会将 MySQL 作为主存储，Redis 作为缓存，通过先查 Redis，未命中再查 MySQL 并写回Redis 的方式来提高系统的整体性能。

<img src="https://cdn.tobebetterjavaer.com/stutymore/redis-20250427152053.png" alt="二哥的 Java 进阶之路：Redis 作为 MySQL 的缓存" style="zoom: 55%;" />





# 1.4 为什么使用Redis作为Mysql的缓存

















# 7.1 如何避免缓存穿透

**概念**：当用户发起请求时，**请求的数据既不在缓存中，也不在数据库中**，此时在[访问完](#)缓存后没有找到数据，就会接着访问数据库，因为数据库中也没有对应的数据，**也就没法写入到缓存中**。如果此时有大量的这种请求，就会导致数据库频繁被访问，可能会导致宕机；



<img src="https://cdn.xiaolincoding.com//mysql/other/b7031182f770a7a5b3c82eaf749f53b0.png" alt="img" style="zoom: 50%;" />



**发生的场景：**

* 业务误操作，缓存中的数据和数据库中的数据都被误删除了，所以导致缓存和数据库中都没有数据。
* 黑客恶意攻击，故意大量访问某些读取不存在数据的业务。



**解决方案：**

* **限制非法请求：**在API入口处判断请求参数是否合理、是否含有非法值，如果判断出是恶意请求就直接返回错误
* **设置空值或默认值：**当发现缓存穿透问题时，可以将查询的数据在缓存中设置一个空值或默认值，这样缓存中有数据了，就不会继续访问数据库
* **[布隆过滤器](#81-布隆过滤器)：**





# 8.1 布隆过滤器

